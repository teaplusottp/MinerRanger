# Process Mining Demo with FastAPI & pm4py

This project demonstrates **Process Mining** techniques using Python, FastAPI, and pm4py.  
It includes a backend that generates process graphs and serves them to a frontend dashboard.

---
## What is Process Mining?

Process Mining is a **data analysis technique** that focuses on event logs.  
Most software systems automatically store logs of user actions.  
For example:

```
User A: Browse Website → View Product → Add to Cart → Checkout
```

Each event typically contains three attributes:
- **User ID**
- **Activity Name**
- **Timestamp**

Instead of analyzing the event log directly with standard aggregation (average, max, min),  
Process Mining **reconstructs complete cases (user journeys)** by linking events of the same user together.  
Each **case** = sequence of activities for a given user.

This allows us to visualize and analyze the **actual process flow**.

---

## Tech Stack

- **Python 3.9+**
- **FastAPI** → Backend API server
- **pm4py** → Process Mining algorithms (Directly-Follows Graph, Petri Nets, etc.)
- **Graphviz** → Graph rendering engine
- **React + Tailwind (optional)** → Frontend dashboard

---

## Features

- Load event logs (CSV/XES)
- Transform logs into cases
- Generate **process models** (e.g., Directly-Follows Graph)
- Serve process graphs as images via **FastAPI endpoints**
- Frontend consumes the API and displays process graphs

---

## Project Structure

```

TungTungTungSahur/
│── backend/
│ ├── main.py # FastAPI server
│ ├── image.png # graph generated by server
│── frontend/
│ ├── src/
│ │ ├── App.jsx # React 
| | |...
│── README.md

```

---

## Installation & Running

### 1. Clone the repository
```bash
git clone https://github.com/teaplusottp/MinerRanger
```

### 2. Install dependencies
```bash
# Root-level tools (e.g., concurrently)
npm install

# Node.js API dependencies
cd backend
npm install

# Python API dependencies
pip install -r requirements.txt

# Frontend dependencies
cd ../frontend
npm install
```

### 3. Configure environment variables
Copy the sample file and update the values to match your environment:

```bash
cp backend/.env.example backend/.env
```

Required variables:
- `MONGO_URI` – connection string for your MongoDB instance.
- `JWT_SECRET` – secret key used to sign authentication tokens.
- `PORT` – (optional) port for the Express server, defaults to `8080` if not set.

See [`backend/.env.example`](backend/.env.example) for placeholder values.

### 4. Run the stack
From the repository root run:

```bash
npm start
```

This command uses the root-level `package.json` to concurrently launch:
- Express (Node.js) API
- FastAPI/pm4py service
- React frontend

Services will be available at:
- FastAPI: [http://localhost:8000/](http://localhost:8000/)
- Express API: [http://localhost:8080/](http://localhost:8080/)
- Frontend: [http://localhost:5173](http://localhost:5173)

---

## 🔍 Example Code (FastAPI endpoint)

```python
from fastapi import FastAPI
from fastapi.responses import FileResponse
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI()

# Enable CORS for frontend
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

@app.get("/graph")
async def get_graph():
    return FileResponse("image.png", media_type="image/png")
```

---

## 📊 Example Graph

Here’s an example of a Directly-Follows Graph generated from event logs:

```
(A) → (B) → (C)
```

---

## Next Steps

- Add support for **uploading CSV/XES event logs**
- Implement **different process mining algorithms** (Alpha Miner, Heuristics Miner, Inductive Miner)
- Enhance frontend visualization (interactive graphs)

---

## License

MIT License © 2025
